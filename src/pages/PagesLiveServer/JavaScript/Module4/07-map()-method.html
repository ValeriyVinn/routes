<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Метод map()</title>
    <link rel="stylesheet" href="../css/styles.css" />
  </head>
  <body>
    <a href="../../../../indexLS.html">Home</a>

    <h3>Метод map() і flatMap()</h3>
    <section class="section">
      <h4>Метод map()</h4>

      <p>
        Метод map(callback) використовується для трансформації масиву. Він
        викликає колбек-функцію для кожного елемента вихідного масиву, а
        результат її роботи записує у новий масив, який і буде результатом
        виконання методу.
      </p>
      <pre class="code">
массив.map((element, index, array) => {
  // Тіло колбек-функції
});
</pre
      >
      <ul class="section-list">
        <li>Поелементо перебирає оригінальний масив.</li>
        <li>Не змінює оригінальний масив.</li>
        <li>Результат роботи колбек-функції записується у новий масив.</li>
        <li>Повертає новий масив однакової довжини.</li>
      </ul>
      <p>
        Його можна використовувати для того, щоб змінити кожен елемент масиву.
        Оригінальний масив використовується як еталон, на основі якого можна
        зробити іншу колекцію.
      </p>
      <pre class="code">
const planets = ["Земля", "Марс", "Венера", "Юпітер"];

const planetsInUpperCase = planets.map(planet => planet.toUpperCase());
console.log(planetsInUpperCase); // ['ЗЕМЛЯ', 'МАРС', 'ВЕНЕРА', 'ЮПІТЕР']
  
const planetsInLowerCase = planets.map(planet => planet.toLowerCase());
console.log(planetsInLowerCase); // ['земля', 'марс', 'венера', 'юпітер']
  
// Оригінальний масив не змінився
console.log(planets); // ['Земля', 'Марс', 'Венера', 'Юпітер']
</pre
      >
      <p>
        Використання анонімних стрілочних функцій з неявним поверненням суттєво
        скорочує «шум» оголошення колбек-функції, що робить код чистішим і
        простішим для сприйняття.
      </p>
      <h4>Масив об'єктів​</h4>
      <p>
        Ми вже знаємо, що повсякденне завдання - це маніпуляція масивом
        об'єктів. Наприклад, отримати масив значень властивості з усіх об'єктів.
        У нас є масив студентів, а потрібно отримати окремий масив їхніх імен.
      </p>
      <pre class="code">
const students = [
  { name: "Манго", score: 83 },
  { name: "Полі", score: 59 },
  { name: "Аякс", score: 37 },
  { name: "Ківі", score: 94 },
  { name: "Х'юстон", score: 64 },
];

const names = students.map(student => student.name);
console.log(names); // ['Манго', 'Полі', 'Аякс', 'Ківі', 'Х'юстон']
</pre
      >
      <p>
        Використовуючи метод map(), ми можемо перебрати масив об'єктів, і в
        колбек-функції повернути значення властивості кожного з них.
      </p>

<h4>Метод flatMap()</h4>
<p>
  Метод flatMap(callback) - аналогічний методу map(), але застосовується у
  випадках, коли результат - це багатовимірний масив, який необхідно
  «розгладити».
</p>
<pre class="code">
массив.flatMap((element, index, array) => {
// Тіло колбек-функції
});
</pre
>
<p>
  У масиві students зберігається список студентів зі списком предметів,
  які відвідує студент, у властивості courses. Кілька студентів можуть
  відвідувати один і той самий предмет. Необхідно скласти список всіх
  предметів, які відвідує ця група студентів, поки що, навіть
  повторюваних.
</p>
<pre class="code">
const students = [
{ name: "Манго", courses: ["математика", "фізика"] },
{ name: "Полі", courses: ["інформатика", "математика"] },
{ name: "Ківі", courses: ["фізика", "біологія"] },
];

students.map(student => student.courses);
// [['математика', 'фізика'], ['інформатика', 'математика'], ['фізика', 'біологія']]

students.flatMap(student => student.courses);
// ['математика', 'фізика', 'інформатика', 'математика', 'фізика', 'біологія'];
</pre
>
<p>
  Він викликає колбек-функцію для кожного елемента вихідного масиву, а
  результат її роботи записує у новий масив. Відмінність від map() у тому,
  що новий масив «розгладжується» на глибину, що дорівнює одиниці (одна
  вкладеність). Цей розгладжений масив і є результатом роботи flatMap().
</p>
    </section>

    <!-- ! -->
    <button class="accordion">Завдання</button>
    <div class="panel">
      <pre><code class="language-js">
Відповідь
</code></pre>
    </div>
    <!-- ! -->
    <button class="accordion">Завдання</button>
    <div class="panel">
      <pre><code class="language-js">
Відповідь
</code></pre>
    </div>
    <!-- ! -->
    <button class="accordion">Завдання</button>
    <div class="panel">
      <pre><code class="language-js">
Відповідь
</code></pre>
    </div>
    <!-- ! -->
    <button class="accordion">Завдання</button>
    <div class="panel">
      <pre><code class="language-js">
Відповідь
</code></pre>
    </div>
    <!-- ! -->
    <button class="accordion">Завдання</button>
    <div class="panel">
      <pre><code class="language-js">
Відповідь
</code></pre>
    </div>

    <!-- ! -->
    <button class="accordion">Завдання</button>
    <div class="panel">
      <pre><code class="language-js">
Відповідь
</code></pre>
    </div>
    <!-- ! -->
    <button class="accordion">Завдання</button>
    <div class="panel">
      <pre><code class="language-js">
Відповідь
</code></pre>
    </div>

    <script src="../js/main.js" type="module"></script>
  </body>
</html>
