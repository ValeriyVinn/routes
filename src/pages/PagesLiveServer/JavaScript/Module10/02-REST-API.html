<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>REST API</title>
    <link rel="stylesheet" href="../css/styles.css" />
  </head>
  <body>
    <header class="header">
      <a href="../../../../indexLS.html" class="green">Home</a>
    </header>
    <main class="main">
      <h1>REST API</h1>
      <section class="section">
        <p>
          Сервер - це комп'ютер зі спеціальним програмним забезпеченням. Бекенд
          - це програма, розташована на сервері, здатна обробити вхідні
          HTTP-запити і має набір готових дій на певні запити.
        </p>
        <img
          src="./img/df2fbca9-3304-4c20-9cba-4cb290b1b5c4image.png"
          alt="5c"
          width="620"
        />
        <p>
          <b>API (інтерфейс прикладного програмування)</b> - набір чітко
          визначених правил зв'язку між різними програмними компонентами.
          Інтерфейс описує, що можна попросити програму зробити і що буде в
          результаті.
        </p>
        <p>
          <b>REST (representational state transfer)</b> - стиль
          бекенд-архітектури, ґрунтується на наборі принципів, які описують,
          яким чином визначаються і адресуються мережеві ресурси.
        </p>
        <p>
          <b>REST API</b> - бекенд побудований за принципом REST. Слугує
          прошарком між веб-застосунком і базою даних. Має стандартний інтерфейс
          для звернення до ресурсів. Працює як веб-сайт, ми посилаємо HTTP-запит
          з клієнта на сервер, а у відповідь, замість HTML-сторінки, отримуємо
          дані в JSON-форматі.
        </p>
        <h3>Формат запиту</h3>
        <p>
          REST-сервіс вимагає, щоб клієнт робив запит на додавання, видалення
          або зміну даних. Запит може складатися з наступних частин.
        </p>
        <img
          src="./img/a67e1da4-b778-431d-91c7-6d29bf4f811dimage.png"
          alt="формат запису"
          width="620"
        />
        <h3>HTTP-методи</h3>
        <p>
          Виділяють кілька основних HTTP-методів для роботи з REST-сервісом.
        </p>
        <img
          src="./img/6a8fee41-0d44-41b0-ab83-2ec21f4bbe60image.png"
          alt="http methods"
          width="620"
        />
        <h3>HTTP-заголовки</h3>
        <p>
          Заголовки містять службову інформацію, що стосується контенту запиту.
          Наприклад, тип контенту, який клієнт може обробити у відповіді від
          сервера (заголовок Accept) або, який описує тип ресурсу, який клієнт
          відправляє серверу або сервер відправляє клієнту (заголовок
          Content-Type).
        </p>
        <pre class="code">
Accept: text/html
Content-Type: application/json
</pre
        >
        <p>
          <b>MIME-типи</b> - варіанти типів контенту. Використовуються для
          зазначення вмісту запиту і відповіді, складаються з типу і підтипу,
          які розділені скісною рискою /. Наприклад, текстовий файл, що містить
          HTML, буде описаний типом text/html. Якщо файл містить CSS, він буде
          описаний як text/css. Дані у форматі JSON будуть описані як
          application/json. Якщо клієнт очікує text/css, а отримує
          application/json, він не зможе розпізнати і обробити контент
          відповіді.
        </p>
        <h3>Шляхи</h3>
        <p>
          Запити повинні містити шлях до ресурсу, над яким виконується операція.
          Доступні шляхи (ендпоінти, ресурси) описуються в документації бекенду.
        </p>
        <pre class="code">
GET &lt;https://bookstore.com/api/orders&gt;
Accept: application/json
</pre
        >
        <p>
          Такий шлях явно вказує на ресурс, навіть якщо ви його ніколи раніше не
          бачили, тому що він є ієрархічним і описовим. Ми виконуємо запит для
          отримання колекції замовлень.
        </p>
        <p>
          Для того щоб отримати один елемент колекції, його ідентифікатор
          додається до ресурсу. Розглянемо запит на читання одного замовлення з
          ідентифікатором 289.
        </p>
        <pre class="code">
GET &lt;https://bookstore.com/api/orders/289&gt;
Accept: application/json
</pre
        >
        <p>
          Остання частина шляху називається динамічний параметр і в документації
          описується як /ресурс/:параметр. Ресурс не змінюється, це шлях до
          цілої колекції, а значення параметра змінюється для кожного її
          елемента.
        </p>
        <h3>Коди відповідей</h3>
        <p>
          На запит клієнта сервер відправляє відповідь, яка містить код стану,
          щоб інформувати клієнта про результат операції. Коди діляться на
          групи.
        </p>
        <img
          src="./img/278b7b93-cf39-457c-9fd1-1678901776f9image.png"
          alt="response code"
          width="620"
        />
        <p class="note">
          ЦІКАВО: <br />
          Немає потреби пам'ятати всі коди з кожної групи, достатньо знати
          найпоширеніші. Решту завжди можна подивитися в довіднику HTTP-кодів.
        </p>
        <img
          src="./img/5a135d50-e421-4df1-a1c1-1511dbeed0a9image.png"
          alt="5a"
          width="620"
        />
        <h3>Запит-Відповідь</h3>
        <p>
          Припустимо у нас є застосунок, який дозволяє переглядати, створювати,
          редагувати і видаляти клієнтів і замовлення невеликого книжкового
          магазину, бекенд якого розміщений на bookstore.com/api. Використовуючи
          отримані знання, опишемо псевдокодом процес запит-відповідь до
          бекенду.
        </p>
        <p>
          Якщо ми хочемо отримати дані про всіх клієнтів, GET запит буде
          виглядати наступним чином.
        </p>
        <pre class="code">
GET bookstore.com/api/customers
Accept: application/json
</pre
        >
        <p>На що сервер відправить нам таку відповідь.</p>
        <pre class="code">
Status: 200 OK
Content-Type: application/json
Body: JSON-дані про всіх клієнтів
</pre
        >
        <p>
          Для отримання даних одного клієнта ми вказуємо його ідентифікатор,
          уточнюючи GET запит.
        </p>
        <pre class="code">
GET bookstore.com/api/customers/289
Accept: application/json
</pre
        >
        <p>На що сервер відправить нам таку відповідь.</p>
        <pre class="code">
Status: 200 OK
Content-Type: application/json
Body: JSON-дані про клієнта
</pre
        >
        <p>Для того щоб додати нового клієнта, виконуємо POST запит.</p>
        <pre class="code">
POST bookstore.com/api/customers
Content-Type: application/json
Body: { "username": "Mango", "email": "mango@gmail.com" }
</pre
        >
        <p>
          Сервер додає унікальний ідентифікатор і повертає увесь об'єкт як
          результат.
        </p>
        <pre class="code">
Status: 201 
CreatedContent-type: application/jsonBody: 
  { "id": 18674, 
    "username": "Mango", 
    "email": "mango@gmail.com" 
  }  
</pre
        >
      </section>
    </main>
    <footer class="footer">Це футер</footer>

    <script
      src="./pages/PagesLiveServer/JavaScript/js/main.js"
      type="module"
    ></script>
  </body>
</html>
